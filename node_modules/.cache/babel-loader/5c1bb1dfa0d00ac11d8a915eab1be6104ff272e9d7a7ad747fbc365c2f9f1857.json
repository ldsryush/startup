{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,NavLink,useNavigate}from'react-router-dom';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){let{setUser}=_ref;const[text,setText]=useState('');const navigate=useNavigate();function loginUser(){localStorage.setItem('user',text);setUser(text);navigate('/play');}function textChange(e){setText(e.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:textChange}),/*#__PURE__*/_jsx(\"button\",{onClick:loginUser,children:\"Login\"})]});}function Play(_ref2){let{user}=_ref2;const[count,setCount]=useState(parseInt(localStorage.getItem('count'))||0);const[msg,setMsg]=useState('...listening');function countClick(){setCount(count+1);localStorage.setItem('count',count+1);}useEffect(()=>{const intervalId=setInterval(()=>{const names=['bob','sue','tim'];const randomName=names[Math.floor(Math.random()*names.length)];const randomCount=Math.floor(Math.random()*100)+1;const newMsg=`${randomName}: ${randomCount}`;setMsg(newMsg);},1000);return()=>clearInterval(intervalId);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Play - \",user]}),/*#__PURE__*/_jsx(\"button\",{onClick:countClick,children:\"Count\"}),/*#__PURE__*/_jsx(\"div\",{children:count}),/*#__PURE__*/_jsx(\"div\",{children:msg})]});}function App(){const[user,setUser]=useState(localStorage.getItem('user')||null);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"Login\"}),user&&/*#__PURE__*/_jsx(NavLink,{to:\"/play\",children:\"Play\"})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{setUser:setUser}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/play\",element:/*#__PURE__*/_jsx(Play,{user:user})})]})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","NavLink","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","setUser","text","setText","navigate","loginUser","localStorage","setItem","textChange","e","target","value","className","children","type","onChange","onClick","Play","_ref2","user","count","setCount","parseInt","getItem","msg","setMsg","countClick","intervalId","setInterval","names","randomName","Math","floor","random","length","randomCount","newMsg","clearInterval","App","to","path","element","exact"],"sources":["/workspaces/startup/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, NavLink, useNavigate } from 'react-router-dom';\nimport './index.css';\n\nfunction Login({ setUser }) {\n  const [text, setText] = useState('');\n  const navigate = useNavigate();\n\n  function loginUser() {\n    localStorage.setItem('user', text);\n    setUser(text);\n    navigate('/play');\n  }\n\n  function textChange(e) {\n    setText(e.target.value);\n  }\n\n  return (\n    <div className='page'>\n      <h1>Login</h1>\n      <input type='text' onChange={textChange} />\n      <button onClick={loginUser}>Login</button>\n    </div>\n  );\n}\n\nfunction Play({ user }) {\n  const [count, setCount] = useState(parseInt(localStorage.getItem('count')) || 0);\n  const [msg, setMsg] = useState('...listening');\n\n  function countClick() {\n    setCount(count + 1);\n    localStorage.setItem('count', count + 1);\n  }\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      const names = ['bob', 'sue', 'tim'];\n      const randomName = names[Math.floor(Math.random() * names.length)];\n      const randomCount = Math.floor(Math.random() * 100) + 1;\n      const newMsg = `${randomName}: ${randomCount}`;\n      setMsg(newMsg);\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, []);\n\n  return (\n    <div className='page'>\n      <h1>Play - {user}</h1>\n      <button onClick={countClick}>Count</button>\n      <div>{count}</div>\n      <div>{msg}</div>\n    </div>\n  );\n}\n\nfunction App() {\n  const [user, setUser] = useState(localStorage.getItem('user') || null);\n\n  return (\n    <BrowserRouter>\n      <div className='app'>\n        <nav>\n          <NavLink to='/'>Login</NavLink>\n          {user && <NavLink to='/play'>Play</NavLink>}\n        </nav>\n        <main>\n          <Routes>\n            <Route path='/' element={<Login setUser={setUser} />} exact />\n            <Route path='/play' element={<Play user={user} />} />\n          </Routes>\n        </main>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}